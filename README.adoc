== Hoverfly Java - Easy creation of stub servers for testing

image:https://circleci.com/gh/SpectoLabs/hoverfly-java.svg?style=shield["CircleCI", link="https://circleci.com/gh/SpectoLabs/hoverfly-java"]
image:https://codecov.io/gh/spectolabs/hoverfly-java/branch/master/graph/badge.svg["Codecov", link="https://codecov.io/gh/spectolabs/hoverfly-java"]
image:https://img.shields.io/maven-central/v/io.specto/hoverfly-java.svg["Maven Central", link="https://mvnrepository.com/artifact/io.specto/hoverfly-java"]

A Java native language binding for http://hoverfly.io/[Hoverfly^], a Go proxy which allows you to simulate http services in your unit tests. Another term
for this is https://en.wikipedia.org/wiki/Service_virtualization[Service Virtualisation^].

== Features

- Simulation of http services
- Strict or loose http request matching based on URL, method, body and header combinations
- Fluent and expressive DSL for easy generation of simulated services
- Create simulations by running in capture mode
- Hoverfly is a proxy, so you don't need to alter the host that you make requests to
- Multiple hosts / services per single instance of Hoverfly
- Https automatically supported, no extra configuration required
- Interoperable with standard Hoverfly json, making it easy to re-use data between Java and other bindings.

== Documentation

Full documentation is available http://hoverfly-java.readthedocs.io/[here^]

== Example

```java

    @ClassRule
    public static HoverflyRule hoverflyRule = HoverflyRule.inSimulateMode(dsl(
        service("www.my-test.com")

            .post("/api/bookings").body("{\"flightId\": \"1\"}")
            .willReturn(created("http://localhost/api/bookings/1"))

            .get("/api/bookings/1")
            .willReturn(success("{\"bookingId\":\"1\"\}", "application/json")),

        .service("www.anotherService.com")

            .put("/api/bookings/1").body("{\"flightId\": \"1\"\"}")
            .willReturn(success())

            .delete("/api/bookings/1")
            .willReturn(noContent())
        )
    ));

    @Test
    public void shouldBeAbleToGetABookingUsingHoverfly() {
        // When
        final ResponseEntity<String> getBookingResponse = restTemplate.getForEntity("http://www.my-test.com/api/bookings/1", String.class);

        // Then
        assertThat(getBookingResponse.getStatusCode()).isEqualTo(OK);
        assertThatJSON(getBookingResponse.getBody()).isEqualTo("{" +
                "\"bookingId\":\"1\"," +
                "\"origin\":\"London\"," +
                "\"destination\":\"Singapore\"," +
                "\"time\":\"2011-09-01T12:30\"," +
                "\"_links\":{\"self\":{\"href\":\"http://localhost/api/bookings/1\"}}" +
                "}");
    }
```

== Contributions

Contributions are welcome!

To submit a pull request you should fork the Hoverfly-Java repository, and make your change on a feature branch of your fork.

== Issues

Feel free to raise an issues on Github.

== License

Apache License version 2.0.

(c) SpectoLabs 2016.


